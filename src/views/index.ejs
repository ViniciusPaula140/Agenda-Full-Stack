<%- include('includes/head')  %>
<%- include('includes/nav')  %>
    <div class="container mt-5">
      <div class="row">
        <div class="col-lg-2"></div>

        <div class="col-lg-8 my-3">
          <h1 class="text-center">Agenda</h1>
          <p class="text-center lead">Seus contatos estão abaixo.</p>

          <%- include('includes/mensagem') %>

          <% if(contatos.length > 0) { %>
            <div class="list-group">
              <% contatos.forEach(contato => { %>
                <div class="list-group-item d-flex justify-content-between align-items-start">
                  <div>
                    <h5 class="mb-1"><%= contato.nome %> <%= contato.sobrenome %></h5>
                    <p class="mb-1"><strong>Telefone:</strong> <%= contato.telefone %></p>
                    <p class="mb-1"><strong>Email:</strong></p>
                    <p class="text-truncate" style="max-width: 200px; display: inline-block;" title="<%= contato.email %>">
                      <%= contato.email %>
                    </p>
                  </div>
                  <div>
                    <a href="/contato/index/<%= contato._id %>" class="btn btn-primary btn-sm me-2">Editar</a>
                    <a href="/contato/delete/<%= contato._id %>" class="btn btn-danger btn-sm">Excluir</a>
                  </div>
                </div>
              <% }) %>
            </div>
          <% } else { %>
            <p class="text-center lead">Não existem contatos na sua agenda.</p>
          <% } %>

        </div>

        <div class="col-lg-2"></div>
      </div>
    </div>
    
<%- include('includes/footer')  %>