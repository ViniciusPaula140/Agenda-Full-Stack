<%- include('includes/head')  %>
<%- include('includes/nav')  %>
    <div class="container mt-5">
      <div class="row">
        <div class="col-lg-2"></div>

        <div class="col-lg-8 my-3">
          <h1 class="text-center">Agenda</h1>
          <p class="text-center lead">Seus contatos estão abaixo.</p>

          <%- include('includes/mensagem') %>

          <% if(contatos.length > 0) { %>
            <div class="responsive-table">
              <table class="table my-3">
                <tr>
                  <th>Nome</th>
                  <th>Sobrenome</th>
                  <th>Telefone</th>
                  <th>Email</th>
                  <th>Ações</th>
                </tr>
                <% contatos.forEach(contato => { %>
                  <tr>
                    <td><%= contato.nome %></td>
                    <td><%= contato.sobrenome %></td>
                    <td><%= contato.telefone %></td>
                    <td><%= contato.email %></td>
                    <td>
                      <a href="/contato/index/<%= contato._id %>" class="btn btn-primary btn-sm">Editar</a>
                      <a href="/contato/delete/<%= contato._id %>" class="btn btn-danger btn-sm">Excluir</a>
                    </td>
                  </tr>
                <% }) %>
              </table>
            </div>
          <% } else { %>
            <p class="text-center lead">Não existem contatos na sua agenda.</p>
          <% } %>

        </div>

        <div class="col-lg-2"></div>
      </div>
    </div>
    
<%- include('includes/footer')  %>